<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LawForge: The Physics Law Discovery Engine</title>
    <link rel="stylesheet" href="style.css">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YFQC1JRGM7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YFQC1JRGM7');
</script>
</head>
<body>
    <div class="container">
        <header>
            <h1>LawForge</h1>
            <p class="subtitle">The Physics Law Discovery Engine</p>
        </header>
        <main>
            <p class="description">
                This tool demonstrates that physical laws are projections of simple, dimensionless postulates.
                Enter a postulate below, or select a known law to see its derivation.
            </p>
            <p class="description">Unsure which symbols to use? <a href="#" id="showAxesLink">Click here for a list of allowed axes</a>.</p>
            
            <div class="selector-group">
                <label for="postulateSelector">Select a known law to begin:</label>
                <select id="postulateSelector">
                    <option value="" disabled selected>— Choose a postulate —</option>
                    <optgroup label="Relativity & Gravity">
                        <option value="E ~ m">Mass-Energy Equivalence</option>
                        <option value="F ~ M1*M2/r**2">Newtonian Gravity</option>
                        <option value="r_s ~ M">Schwarzschild Radius</option>
                    </optgroup>
                    <optgroup label="Quantum Mechanics">
                        <option value="E ~ f">Planck-Einstein Relation</option>
                        <option value="f ~ M">Compton Frequency</option>
                        <option value="p ~ 1/r">de Broglie Relation</option>
                    </optgroup>
                    <optgroup label="Thermodynamics">
                        <option value="T ~ 1/M">Hawking Temp. (Dimensional)</option>
                        <option value="T ~ 1/(16*pi**2*M)">Hawking Temp. (Full Postulate)</option>
                        <option value="rho ~ T**4 ">Stephan Boltzman gas pressure law</option>
                    </optgroup>
                    <optgroup label="Atomic Physics & Fine Structure">
                        <option value="r ~ 1/(alpha*M)">Bohr Radius (a₀ = ℏ/(mₑcα))</option>
                        <option value="r ~ alpha/M">Classical Electron Radius Relation</option>
                    </optgroup>
                    <optgroup label="Fluid Mechanics and Turbulence Theory">
                        <option value="E ~ (epsilon / (l_P**2 * t_P**(-3)))**(2/3) * 1/(r**(5/3))">Kolmogorov's formula</option>
                    </optgroup>
                </select>
            </div>

            <div class="input-group">
                <input type="text" id="postulateInput" placeholder="e.g., T ~ 1/M or E ~ alpha*M" size="40">
                <button id="deriveButton" onclick="runDerivation()">Derive Law</button>
            </div>
            
            <!-- ADDED DEBUG CHECKBOX HERE -->
            <div class="debug-group">
                <input type="checkbox" id="debugCheckbox">
                <label for="debugCheckbox">Show Debug Info</label>
            </div>

            <hr>
            <h3>Derivation Steps:</h3>
            <pre><code id="output">Your derived law will appear here...</code></pre>
        </main>
        <footer>
            <p>Based on the principles of The Knowledge Pattern. Created by J. Rogers.</p>
            <p><a href="https://github.com/BuckRogers1965/LawForge" target="_blank">View on GitHub</a></p>
        </footer>
    </div>

    <div id="axesModal" class="modal">
        <div class="modal-content">
            <span class="close-button">×</span>
            <h3>Allowed Axes and Symbols</h3>
            <table>
                <thead><tr><th>Concept</th><th>Allowed Symbols</th></tr></thead>
                <tbody>
                    <tr><td>Mass</td><td><code>M</code>, <code>m</code>, <code>M1</code>, <code>M2</code></td></tr>
                    <tr><td>Length / Distance</td><td><code>r</code>, <code>l</code>, <code>x</code>, <code>lambda</code>, <code>r_s</code></td></tr>
                    <tr><td>Time</td><td><code>t</code></td></tr>
                    <tr><td>Temperature</td><td><code>T</code></td></tr>
                    <tr><td>Energy</td><td><code>E</code></td></tr>
                    <tr><td>Force</td><td><code>F</code></td></tr>
                    <tr><td>Power</td><td><code>P</code></td></tr>
                    <tr><td>Density (Energy)</td><td><code>rho</code></td></tr>
                    <tr><td>Momentum</td><td><code>p</code></td></tr>
                    <tr><td>Acceleration</td><td><code>a</code></td></tr>
                    <tr><td>Velocity</td><td><code>v</code></td></tr>
                    <tr><td>Frequency</td><td><code>f</code></td></tr>
                    <tr><td>Fine Structure Constant</td><td><code>alpha</code> (automatically expanded)</td></tr>
                </tbody>
            </table>
            <p><strong>Note:</strong> When you use <code>alpha</code> in a postulate, it will be automatically replaced with its full SI unit expression: <code>e²/(2ε₀hc)</code>, where:</p>
            <ul>
                <li><code>e</code> = elementary charge</li>
                <li><code>ε₀</code> = permittivity of free space</li>
                <li><code>h</code> = Planck constant</li>
                <li><code>c</code> = speed of light</li>
            </ul>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <script src="main.js"></script>
</body>
</html>
